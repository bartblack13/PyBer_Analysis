# PyBer_Analysis
Matplotlib, Panda, Numpy and Scipy


## Overview
### Purpose:
The purpose of this project was to learn how to generate graphs using matplotlib via Jupyter Notebook, as part of my Week 6 module for DU Coding Bootcamp.  The following graphs were generated by the matlab method (matplotlib.pyplot) - plt.plot(); Object Oriented Interface method - ax.plot; and the matplotlib method - df.plot
* line 
* bar
* scatter
* bubble 
* pie
* box-and-whisker plots using Matplotlib

I also learned how to write code that enabled me to:
* Add and modify features of Matplotlib charts.
* Add error bars to line and bar charts.
* Determine mean, median, and mode using Pandas, NumPy, and SciPy statistics.

### Methods
In order to complete the above obective, I analyzed two different csv datafiles from a mock ride sharing company called PyBer, one datafile contained 2,376 rows and 4 columns of data; and the second containied 121 rows and 3 columns of data.  The data was comprised of: 
* city, 
* city type(urban, suburban, and rural), 
* ride ID, 
* fare, 
* driver counts per city
* date

After opening the data, I looked for null values and determined if it needed to be cleaned in any way.  I then used pd.merge() to merged the dataframes by city.  From this new dataframe, I used the groupby(), count(), and sum() functions to generate the total rides, total drivers, total fare, and then calcuated the average fare per ride, and average fare per driver, all dependent on city type.  I also used the map() function to format the column values to be displayed as dollar amounts with 2 decimal places and comma markers. See the Table 1 below.

![This is an image](https://github.com/bartblack13/PyBer_Analysis/blob/main/analysis/Table1.png)
<br />**Table 1**

<br /><br />I then used the groupby(), count(), and sum() functions to generate a new dataframe containing date of ride, city type, and fare, with formated fare values as above.  I then did the following:
* reset the the index - reset_index() 
* created a pivot table - df.pivot(); where index="date", columns= "type", values="fare"
* sorted the data to only display rides from April 1, 2019 to April 28, 2019 - loc() 
* changed the dataframe to a TimeIndex type and replaced NaN values with 0
* resampled the dataframe and summed the fare values per week - df.resample("W") and sum()
* create a new dataframe (see Table 2 below)

![This is an image](https://github.com/bartblack13/PyBer_Analysis/blob/main/analysis/Table2.png)
<br />**Table 2**

<br /><br />I used the object-oriented interface method to plot the resampled DataFrame using the df.plot() function, added lables and a title, then used the style.use('fivethirtyeight') to format the graph and generated a legend (See Figure 1 below)

![This is an image](https://github.com/bartblack13/PyBer_Analysis/blob/main/analysis/PyBer_fare_summary.png)
<br />**Figure 1**

## Results: Using images from the summary DataFrame and multiple-line chart, describe the differences in ride-sharing data among the different city types.
At an intital glance, Table 1 shows that the rural cities fall behind both suburban and urban cities in total rides, total drivers, and total fare.  They fall behind suburban and urban cities 5 and 13 times in total rides; 6.25 and 30.8 times in total drivers; and 4.47 and 9.20 times in total fares; respectively.  

This makes sense since rural cities/towns have lower populations, and hence a lower supply of drivers and a lower demand for rides.  In smaller towns, it might be easier to walk or ride a bike to get around.  People are more likely to know their neighbors and are more likely to have family in town, both of which could provide someone with a free ride if needed.  People are less likely to pay for a PyBer ride to go to a nearby town or city, since rural comunnities are usually smaller towns separated by greater distances.  

On the opposite hand, people that live in larger cities, especially within the downton areas, generally are part of a subculture that values public transportation and taking taxis or ride-sharing services.  This might be because of shorter distance of travel due to greater avalablity of stores, etc.; or it might be due to lack of parking and/or high cost of parking garages. 

Rural cities, however, have higher averages for fare per ride and fare per driver than their suburban and urban countierparts: 1.11 and 1.41 times higher per ride; and 1.40 and 3.35 higher per driver, respectively.  This also makes sense, as the lower demand for riders would increase the cost per ride, and if a rider went to a nearby town, the greater distance would yield a higher fare for the ride.

Looking at the graph (Figure 1), we see a peak in total fares during the last week of February, 2019-02-24, the values of which can be seen in Table 2.  This peak in fares is present in all three city types, but this pattern does not show up during the last week of the other months.  This suggests that there might be something unique about the end of Februrary, that generates more revenue.  It would be interesting to dig deeper into this peak and see why it might be occuring, in order to try to capitalize on it.  For example: is the total fare increasing on a specific day during that week; are more rides being taken on that day or during that week; or are people traveling longer distances for some reason?  As an intital step, this could be done by generating 3 new tables showing: the total fare per day for that week; number of rides per week from January - April; and the number of rides per day for that week.  Based on the findings, PyBer might consider offering a single day discount, to incentivize even more people to use their service that day, which would generate more revenue.  Or they might try to see if they can generate such a peak at the end of every month.

## Summary: 

Based on the above results, I would suggest the following three business recommendations:
* 1) Lower the cost to take a PyBer in rural communities.  Only 6.8% of the total revenue (total fare) comes from rural communities.  Any business change within the rural cities will have minimal affect on the overall profitablility of the company.  If any variable in the rural areas needed to change it would be the number of rides.  Since rural areas have less people, there is lower demand for rides and less people to be drivers.  A limited number of drivers would limit increase in revenue.  However, lowering the cost per ride in the rural areas would minimally change the bottom line, and it would make rides more accessable for people in rural areas, which would increase riders and offset lost revenue.
* 2) Incentivize the hiring of more drivers within suburban areas.  Suburban areas account for 30.4% of the revenue, 16.5% of the drivers, 26.3% of the rides represented in Table 1.  The rides per driver for the suburban and urban areas are 1.27 and 0.67.  Suburban drivers are carying almost twice (1.27/0.67 = 1.90) the passengers as urban drivers, which would suggest that suburban areas have a higher demand for PyBer rides.  Again, this might go back to the fact that urban areas such as downtown neighborhoods have a high variety of shops, stores, services, etc, located at closer distances, and people might be more incline to walk.  If PyBer can double its drivers, it could achieve two things: a) increase the revenue by increasing the rides; b) decrease the rides/driver, decreasing wait times for riders, allowing more rides per day, and increased revenue.
* 3) Investigate the cause of the peak in fares during the last week of February.  


